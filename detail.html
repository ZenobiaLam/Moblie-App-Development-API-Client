<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>瑜伽動作詳情 | Yoga Pose Detail</title>

    <!-- Ionic 框架 CDN -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"
    />
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"
    ></script>
    <script
      nomodule
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"
    ></script>

    <!-- 自定義樣式 -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <ion-app>
      <ion-header>
        <ion-toolbar color="primary">
          <ion-buttons slot="start">
            <ion-back-button default-href="index.html"></ion-back-button>
          </ion-buttons>
          <ion-title>
            <span class="zh">瑜伽動作詳情</span>
            <span class="en">Yoga Pose Detail</span>
          </ion-title>
          <ion-buttons slot="end">
            <ion-button id="bookmark-btn">
              <ion-icon id="bookmark-icon" slot="icon-only" name="bookmark-outline"></ion-icon>
            </ion-button>
            <ion-button id="language-toggle">
              <ion-icon slot="icon-only" name="language-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <div id="yoga-detail">
          <!-- 瑜伽動作詳細內容將由JavaScript載入 -->
          <!-- Yoga pose details will be loaded by JavaScript -->
          <div class="ion-padding ion-text-center">
            <ion-spinner name="crescent"></ion-spinner>
            <p>載入中...</p>
          </div>
        </div>
      </ion-content>
    </ion-app>

    <!-- 自定義 JavaScript -->
    <script src="js/data.js"></script>
    <script src="js/api.js"></script>
    <script src="js/language.js"></script>
    <script src="js/detail.js"></script>
    <script>
      // 頁面載入時檢查API連接狀態
      document.addEventListener('DOMContentLoaded', async function() {
        try {
          const isApiOnline = await API.checkStatus();
          if (!isApiOnline) {
            const toast = document.createElement('ion-toast');
            toast.message = '無法連接到API伺服器，將使用本地數據';
            toast.duration = 3000;
            toast.position = 'bottom';
            toast.color = 'warning';
            document.body.appendChild(toast);
            toast.present();
          }
        } catch (error) {
          console.error('API狀態檢查失敗:', error);
        }
      });
    </script>
  </body>
</html>
